# Firebase Configuration
# Get these values from your Firebase project settings
# Copy this file to .env.local and fill in your actual values

NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key_here
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id_here
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project_id.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id_here
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id_here
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=your_measurement_id_here

# Firebase Admin SDK (for server-side API operations)
# ⚠️ REQUIRED FOR PRODUCTION ⚠️
# Development: Uses NEXT_PUBLIC_FIREBASE_PROJECT_ID (sufficient for local dev)
# Production: MUST set FIREBASE_SERVICE_ACCOUNT_KEY for secure server-side operations
#
# To get your service account key:
# 1. Go to Firebase Console > Project Settings > Service Accounts
# 2. Click "Generate New Private Key"
# 3. Download the JSON file
# 4. Stringify the JSON and set it here (one line, no newlines)
#
# FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}
#
# See docs/PRODUCTION_SETUP.md for detailed instructions

# OpenAI Configuration
OPENAI_API_KEY=sk-proj-your-key-here
OPENAI_ORG_ID=org-your-org-id (optional)

# Anthropic Configuration (for Website Builder)
ANTHROPIC_API_KEY=sk-ant-your-key-here

# AI Models
MODEL_MINI=gpt-4o-mini
MODEL_ESCALATION=gpt-4o
EMBEDDING_MODEL=text-embedding-3-small

# Cost Controls & Quotas
MAX_TOKENS_PLANNER=4000
MAX_TOKENS_EXECUTOR=8000
DAILY_TOKEN_QUOTA_PER_USER=100000
DAILY_TOKEN_QUOTA_PER_TENANT=2000000
MAX_COST_PER_REQUEST_CENTS=50
MAX_TOKENS_PER_REQUEST=16000

# Web Search Configuration (OpenAI Built-in)
OPENAI_WEB_SEARCH_ENABLED=true
OPENAI_WEB_SEARCH_MAX_RESULTS=8
WEBSEARCH_RATE_LIMIT=100
WEBSEARCH_CACHE_TTL_SEC=300
WEBSEARCH_BLOCKLIST=
WEBSEARCH_ALLOWLIST=

# Tavily Web Search Configuration (Phase 4)
# Use Tavily for more control over web search results
WEBSEARCH_PROVIDER=tavily
WEBSEARCH_API_KEY=tvly-your-api-key-here
WEBSEARCH_MAX_RESULTS=10
TAVILY_SEARCH_DEPTH=basic

# Feature Flags
FEATURE_AI_ASSISTANT_ENABLED=true
FEATURE_STREAMLINED_PLAN_ENABLED=true
FEATURE_EXEC_SUMMARY_ENABLED=true
FEATURE_MARKET_ANALYSIS_ENABLED=true

# Batch API (optional)
BATCH_ENABLED=false

# Monitoring & Logging
LOG_LEVEL=info
ENABLE_USAGE_TRACKING=true
ENABLE_POLICY_VALIDATION=true
ENABLE_PROMPT_CACHING=true

# Policy Validation Configuration
# Controls validation strictness for AI assistant outputs
POLICY_RECENT_MONTHS=9
POLICY_REQUIRE_SOURCES=true
POLICY_STRICT_NUMBERS=true
POLICY_BLOCK_PII_IN_OUTPUT=true

# Phase 5: Alpha Finalization - Enhanced Policy Enforcement
# POLICY_ENFORCE=true blocks requests when policy violations occur (errors)
# POLICY_REQUIRE_SECTION_CITATIONS=true enforces at least one citation per section when sources available
# Numeric tolerance is ±2% for financial metrics (configured in code)
POLICY_ENFORCE=false
POLICY_REQUIRE_SECTION_CITATIONS=false

# Usage Tracking & Analytics
USAGE_SOFT_FAIL=false
USAGE_SAMPLING_RATE=1.0
USAGE_RETENTION_DAYS=90
USAGE_ANALYTICS_WINDOW_DAYS=30
